parameters:
  - name: listOfApks # name of the parameter; required
    type: object # data type of the parameter; required
    default: apk

steps:
  - ${{ each apk in parameters.listOfApks }}:
    - task: AppCenterDistribute@3
        displayName: Deploy apk to Visual Studio App Center
        inputs:
          serverEndpoint: 133b25af-78fa-4e02-b514-d36bb5a93d72
          appSlug: James_Aidoo/Azure-Pipeline-AppCenter-Integration
          app: ${{ apk }}
          symbolsType: Android
          packParentFolder: true
          releaseNotesInput: "Test Release Notes:\n\nIf you're seeing this, I succeeded in integrating the Visual Studio App Center Distribute Service to my Azure Pipeline on a project hosted on GitHub. Pretty impressive, huh!\n\n(Alright, fingers crossed this works \U0001F91E\U0001F3FD)"
          destinationType: groups
          isSilent: false
